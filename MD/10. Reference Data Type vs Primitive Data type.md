# 원시 데이터 타입은 머임? → 값을 직접 저장한다.

**Primitive data type**

자바스크립트의 자료형 (문자, 숫자, array, object 등)은 자료형을 크게 2개로 분류합니다.

Primitive & reference라고 분류하는데

Primitive data type들은 그냥 별건 없고 자료 자체가 변수에 저장되는 자료들입니다.

문자, 숫자 자료형들이 대표적인 primitive data type들입니다.

```csharp
var name = 'john';
var age = 20;
```

이렇게 문자나 숫자 자료형은 문자나 숫자가 변수에 직접 저장된다는 소리입니다.

뭐 그런 당연한 소리를 하냐고요?

아닌 것들도 있기 때문입니다.

# 직접 저장이 안돼는 레퍼런스 데이터 타입

**Reference data type**

Array, Object 자료형은 reference data type에 속합니다.

reference data type은 자료를 변수에 직접 저장하는게 아닌,

# 레퍼런스 데이터 타입은 “화살표” 를 저장한다

자료가 저쪽에 있습니다 라는 **화살표 (레퍼런스)**를 변수에 저장합니다.

말이 어려우니 예를 들어봅시다.

```
var 사람 = { name : 'Kim' };
```

여러분 방금 { name : 'Kim' } 이라는 자료를 변수에 저장했습니다.

하지만 변수에 저장된건 { name : 'Kim' } 이게 아닙니다.

"{ name : 'Kim' }이 저기 저장되어있습니다"라는

{ name : 'Kim' } 값을 가리키는 화살표가 저장이 되어있을 뿐입니다.

# 다시 강조하지만 값이 저장되는게 아니라 화살표 (저기있습니다!)하는게 저장되는거임

![스크린샷 2025-02-06 오후 8.04.09.png](attachment:8fa5342d-22f8-4586-8ab9-c7d4cd269535:스크린샷_2025-02-06_오후_8.04.09.png)

알겠죠? Kim이라는 데이터가 변수에 저장된게 아닙니다. Kim이라는게 저기 있습니다~ 라는 정보만 저장할 뿐입니다.

그래서 이런 reference만 저장되는 array, object 자료형을 **reference data type**이라고 합니다.

**Q. 화살표가 가리키는 저기가 어딘데요?**

A. 컴퓨터 메모리 상의 어떤 곳입니다. 그냥 우리는 컨트롤할 수 없는 미지의 공간이라고 생각하셔도 됩니다.

어디서 이상한 C언어 배우다온 분들은 포인터인가? 라고 생각할 수 있는데 비슷합니다.

다만 C언어처럼 포인터 주소같은 개념은 다루지 못합니다.

아무튼 그래서 reference data type은 신기한 현상들이 일어납니다.

## 복사에 주의하자.

**예제 1. 복사하면 이상한 일이 일어납니다.**

### 먼저 원시데이터 타입을 복사해봄요

한번 아주 직관적이고 간단한 **Primitive 자료형**부터 복사해보도록 합시다. 문자말입니다 문자.

```csharp
var 이름1 = '김';
var 이름2 = 이름1;
이름1 = '박';
```

(1) 이름1은 '김'이라는 문자를 집어넣었고

(2) 이름2는 이름1에 있던 자료를 복사해서 집어넣습니다. (등호는 그냥 집어넣는다라는 뜻입니다 같다는게 아니고요)

(3) 셋째줄에서 이름1을 심심해서 박으로 변경했습니다.

**그럼 이름1, 이름2를 출력하면 각각 무엇이 나올까요?**

이름1은 변경했으니 '박'이고, 이름2는 복사만했지 변경하진 않았으니 '김' 입니다.

끝입니다. 별로 이상한 점이 없습니다.

**(직관적으로 값 자체를 복사해서 갖고오니 변경해도 독립적으로 변경)**

## 이번엔 레퍼런스 데이터 타입을 복사해봄

근데 똑같은 일을 reference data type으로 진행하면 이상한 일이 일어납니다.

한번 Reference 타입 자료형인 **object를 이용해 똑같이 해보도록 하겠습니다.**

```csharp
var 이름1 = { name : '김' };
var 이름2 = 이름1;
이름1.name = '박';
```

(1) 이름1은 { name : '김' } 이라는 object자료형을 집어넣었고

(2) 이름2는 이름1에 있던 자료를 복사해서 집어넣습니다.

(3) 셋째줄에서 이름1 object 안의 name을 박으로 변경했습니다.

**그럼 이름1, 이름2를 출력하면 각각 무엇이 나올까요?**

이름1은 변경했으니 { name : '박' } 이고, 이름2는 복사만했지 변경하진 않았으니 { name : '김' } 입니다.

근데 콘솔창에 출력해보면 아니라는데요?

!https://codingapple-cdn.b-cdn.net/wp-content/uploads/2020/03/%EC%BA%A1%EC%B2%98-1.png

쟌넨! 둘다 { name : '박' } 이었습니다

분명 코드를 보면

```csharp
var 이름1 = { name : '김' };
var 이름2 = 이름1;
이름1.name = '박';
```

### 화살표를 복사하고 나서 값을 바꾸면 당연히 화살표는 그대로고 값이 바뀌었으니

**이름2는 우리가 값을 전혀 수정한 적이 없는데 바뀌어있습니다.**

왜 그러냐면.. 두번째줄이 문제입니다.

이름2에 이름1을 복사해서 집어넣을 때가 문제입니다.

이 때, 이름1에 있던 { name : '김' } 이라는 데이터가 복사된게 아닙니다.

왜냐면 이름1에는 {} 이게 저장된게 아니라 **reference (화살표)가 저장**되어있다고 했으니까요.

**이름1의 화살표를 이름2에 복사하신겁니다.**

이제 이름1과 이름2는 같은 화살표를 가지고 있습니다.

그림으로 표현하자면 이렇습니다.

!https://codingapple-cdn.b-cdn.net/wp-content/uploads/2020/03/%EC%BA%A1%EC%B2%982-1.png

이름1과 이름2는 같은 화살표 (reference) 를 가지게 된 것이고

그 화살표는 { name : '김' } 이라는 같은 값을 가리키고 있는 것일 뿐입니다.

그럼 아까 코드에서 셋째줄에서 **이름1.name = '박'** 이렇게 값 변경을 하면 어떻게 되죠?

화살표를 타고 들어가서 name 을 **'박'**으로 설정해줍니다.

근데 가만히 있던 이름2를 출력해보면

화살표를 타고 들어가서 { name : '박' } 이라는 데이터가 나오게 되는 것이지요.

아무튼 이런 원리 때문에 이름1과 이름2는 같은 값을 공유하고 있었던 것입니다.

### 등호로 복사하지마셈

결론은 object, array 자료형은 등호로 복사하시면

화살표 값을 공유해버리기 때문에 문제가 일어날 수 있습니다.

# 레퍼런스 데이터 타입을 선언한다? → 화살표를 내가 선언했구나.

여러분이 새로운 {} object를 할당할 때마다 화살표가 새로 생성된다고 보시면 됩니다.

정확한 명칭은 reference 지만 님들 기억에 오래 남게 화살표라고 합시다.

```
var 이름1 = { name : '김' };
var 이름2 = { name : '박' };
```

지금 첫줄과 둘째줄 모두 object를 새로 할당해주고 있습니다.

실은 object가 저기 있다는 화살표를 할당해준 것입니다. 끝입니다.

그럼 이걸 한번 보도록 합시다.

```
var 이름1 = { name : '김' };
var 이름2 = { name : '김' };
```

지금 첫줄과 둘째줄 모두 object를 새로 할당해주고 있습니다. 근데 object 안의 내용이 똑같네요.

여기서 문제풀어봐야함

**Q. 바로 위의 예제에서 이름1 == 이름2 이렇게 두개를 같다고 비교하면 true가 나올까요 false가 나올까요?**

false임

### 이유?

이름 1을 하는 순간 우린 name : 김에 대한 “화살표”를 만든거임

이름 2을 하는 순간 우린 name : 김에 대한 “화살표”를 만든거임

### 같은거 아닌가?

객체 내부 내용은 같지만 이름 1, 이름 2는 “화살표”입니다.

화살표와 객체 내부값은 다르죠. 따라서 다르다 false 나옴

# 함수를 이용해 object를 변경은 가능할까?

( 등호를 이용한 복사는 안된다 했습니다)

# 결론은 안됌!

### 알아야하는 중요한 정보 매개변수 동작 원리

1. 매개변수가 동작할때는 변경이라는 함수의 매개변수가 매개함
2. 변수 영어로 var이겠죠
3. var obj = 이름1 (이렇게 매개함)
4. **변경 (이름1) == 변경( var obj = 이름) (함수 내부에서 obj ⇒ 이름1)**

**위에서 봤죠 값이 같아도 화살표가 다르면 레퍼런스 데이터 타입은 다른거라고**

1. 결론 : 따라서 이름1은 그냥 관계없는 name : 김을 가리키고 있는 데이터임

```tsx
var 이름1 = { name : '김' };

function 변경(obj){
  obj = { name : 'park' };
}

변경(이름1); -> name :kim
```

# 그럼 어떻게 바꾸나요?

### 두가지 방법

1. 속성 직접 변경

```tsx
var 이름1 = { name: '김' };

function 변경(obj) {
  obj.name = 'park'; // 객체의 속성만 변경
}

변경(이름1);

console.log(이름1); // ✅ { name: 'park' } (원본 변경됨!)
```

1. 함수 내부에서 참조 변경하지말고 리턴으로.

```tsx
var 이름1 = { name: '김' };

function 변경(obj) {
  return { name: 'park' }; // 새로운 객체를 반환
}

이름1 = 변경(이름1); // 새로운 객체를 변수에 할당

console.log(이름1); // ✅ { name: 'park' }
```
